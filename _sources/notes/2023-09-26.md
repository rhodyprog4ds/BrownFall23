---
jupytext:
  text_representation:
    extension: .md
    format_name: myst
    format_version: 0.13
    jupytext_version: 1.15.1
kernelspec:
  display_name: Python 3 (ipykernel)
  language: python
  name: python3
---

# Tidy Data

```{warning}
this is incomplete, but will get filled in this week. 
```

```{code-cell} ipython3
import pandas as pd
import seaborn as sns

# make plots look nicer and increase font size
sns.set_theme(font_scale=2, palette='colorblind')
```

```{code-cell} ipython3
url_base = 'https://raw.githubusercontent.com/rhodyprog4ds/rhodyds/main/data/'

datasets = ['study_a.csv','study_b.csv','study_c.csv']
```

```{code-cell} ipython3
study_df_list = [pd.read_csv(url_base +cur_study,na_values='-') 
                 for cur_study in datasets]
```

```{code-cell} ipython3
study_df_list[0]
```

```{code-cell} ipython3
study_df_list[1]
```

```{code-cell} ipython3
study_df_list[2]
```

```{code-cell} ipython3
df_a = study_df_list[0]
df_a.mean(numeric_only=True,)
```

```{code-cell} ipython3
df_a.mean(numeric_only=True,axis=1)
```

```{code-cell} ipython3
df_b = study_df_list[1]
df_b
```

```{code-cell} ipython3
study_df_list[2]
```

```{code-cell} ipython3
study_df_list[2].groupby('treatment').mean(numeric_only=True)
```

```{code-cell} ipython3
study_df_list[2].groupby('person').mean(numeric_only=True)
```

```{code-cell} ipython3
df_a
```

```{code-cell} ipython3
df_a.melt(id_vars='name', value_vars=['treatmenta','treatmentb'])
```

```{code-cell} ipython3
df_a.melt(id_vars='name', value_vars=['treatmenta','treatmentb'],
          var_name= 'treatment_type',
          value_name='result',)
```

```{code-cell} ipython3
arabica_data_url = 'https://raw.githubusercontent.com/jldbc/coffee-quality-database/master/data/arabica_data_cleaned.csv'
# load the data
coffee_df = pd.read_csv(arabica_data_url, index_col=0)
```

```{code-cell} ipython3
coffee_df.head(2)
```

```{code-cell} ipython3
coffee_df.columns
```

```{code-cell} ipython3
scores_of_interest = ['Aroma',
       'Flavor', 'Aftertaste', 'Acidity', 'Body', 'Balance', 'Uniformity',
       'Clean.Cup', 'Sweetness',]
```

```{code-cell} ipython3
coffee_df[scores_of_interest].head(2)
```

```{code-cell} ipython3
coffee_df_tall = coffee_df.melt(id_vars='Country.of.Origin',value_vars=scores_of_interest,
               var_name='rating_type',
               value_name='score')
coffee_df_tall.head(1)
```

```{code-cell} ipython3
sns.displot(data = coffee_df_tall, kind = 'kde', x='score',
            col='rating_type', hue='Country.of.Origin',col_wrap=3)
```

find why warning

```{code-cell} ipython3

```
